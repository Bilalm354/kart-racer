{"id":"../node_modules/graphql-tools/dist/transforms/TransformRootFields.js","dependencies":[{"name":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/transforms/TransformRootFields.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/bilal/Projects/kart-racer/server/package.json","includedInParent":true,"mtime":1610848218647},{"name":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/package.json","includedInParent":true,"mtime":1602017675708},{"name":"graphql","loc":{"line":2,"column":24},"parent":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/transforms/TransformRootFields.js","resolved":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql/index.mjs"},{"name":"../isEmptyObject","loc":{"line":3,"column":30},"parent":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/transforms/TransformRootFields.js","resolved":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/isEmptyObject.js"},{"name":"./visitSchema","loc":{"line":4,"column":28},"parent":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/transforms/TransformRootFields.js","resolved":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/transforms/visitSchema.js"},{"name":"../stitching/schemaRecreation","loc":{"line":5,"column":33},"parent":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/transforms/TransformRootFields.js","resolved":"/Users/bilal/Projects/kart-racer/server/node_modules/graphql-tools/dist/stitching/schemaRecreation.js"}],"generated":{"js":"Object.defineProperty(exports, \"__esModule\", { value: true });\nvar graphql_1 = require(\"graphql\");\nvar isEmptyObject_1 = require(\"../isEmptyObject\");\nvar visitSchema_1 = require(\"./visitSchema\");\nvar schemaRecreation_1 = require(\"../stitching/schemaRecreation\");\nvar TransformRootFields = /** @class */ (function () {\n    function TransformRootFields(transform) {\n        this.transform = transform;\n    }\n    TransformRootFields.prototype.transformSchema = function (originalSchema) {\n        var _a;\n        var _this = this;\n        return visitSchema_1.visitSchema(originalSchema, (_a = {},\n            _a[visitSchema_1.VisitSchemaKind.QUERY] = function (type) {\n                return transformFields(type, function (fieldName, field) {\n                    return _this.transform('Query', fieldName, field);\n                });\n            },\n            _a[visitSchema_1.VisitSchemaKind.MUTATION] = function (type) {\n                return transformFields(type, function (fieldName, field) {\n                    return _this.transform('Mutation', fieldName, field);\n                });\n            },\n            _a[visitSchema_1.VisitSchemaKind.SUBSCRIPTION] = function (type) {\n                return transformFields(type, function (fieldName, field) {\n                    return _this.transform('Subscription', fieldName, field);\n                });\n            },\n            _a));\n    };\n    return TransformRootFields;\n}());\nexports.default = TransformRootFields;\nfunction transformFields(type, transformer) {\n    var resolveType = schemaRecreation_1.createResolveType(function (name, originalType) {\n        return originalType;\n    });\n    var fields = type.getFields();\n    var newFields = {};\n    Object.keys(fields).forEach(function (fieldName) {\n        var field = fields[fieldName];\n        var newField = transformer(fieldName, field);\n        if (typeof newField === 'undefined') {\n            newFields[fieldName] = schemaRecreation_1.fieldToFieldConfig(field, resolveType, true);\n        }\n        else if (newField !== null) {\n            if (newField.name) {\n                newFields[newField.name] = newField.field;\n            }\n            else {\n                newFields[fieldName] = newField;\n            }\n        }\n    });\n    if (isEmptyObject_1.default(newFields)) {\n        return null;\n    }\n    else {\n        return new graphql_1.GraphQLObjectType({\n            name: type.name,\n            description: type.description,\n            astNode: type.astNode,\n            fields: newFields,\n        });\n    }\n}\n"},"sourceMaps":{"js":{"version":3,"file":"TransformRootFields.js","sourceRoot":"","sources":["../../src/transforms/TransformRootFields.ts"],"names":[],"mappings":";AAAA,mCAMiB;AACjB,kDAA6C;AAE7C,6CAA6D;AAC7D,kEAGuC;AAYvC;IAGE,6BAAY,SAA0B;QACpC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAEM,6CAAe,GAAtB,UAAuB,cAA6B;;QAApD,iBAwBC;QAvBC,OAAO,yBAAW,CAAC,cAAc;YAC/B,GAAC,6BAAe,CAAC,KAAK,IAAG,UAAC,IAAuB;gBAC/C,OAAO,eAAe,CACpB,IAAI,EACJ,UAAC,SAAiB,EAAE,KAA6B;oBAC/C,OAAA,KAAI,CAAC,SAAS,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,CAAC;gBAAzC,CAAyC,CAC5C,CAAC;YACJ,CAAC;YACD,GAAC,6BAAe,CAAC,QAAQ,IAAG,UAAC,IAAuB;gBAClD,OAAO,eAAe,CACpB,IAAI,EACJ,UAAC,SAAiB,EAAE,KAA6B;oBAC/C,OAAA,KAAI,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,EAAE,KAAK,CAAC;gBAA5C,CAA4C,CAC/C,CAAC;YACJ,CAAC;YACD,GAAC,6BAAe,CAAC,YAAY,IAAG,UAAC,IAAuB;gBACtD,OAAO,eAAe,CACpB,IAAI,EACJ,UAAC,SAAiB,EAAE,KAA6B;oBAC/C,OAAA,KAAI,CAAC,SAAS,CAAC,cAAc,EAAE,SAAS,EAAE,KAAK,CAAC;gBAAhD,CAAgD,CACnD,CAAC;YACJ,CAAC;gBACD,CAAC;IACL,CAAC;IACH,0BAAC;AAAD,CAAC,AAhCD,IAgCC;;AAED,SAAS,eAAe,CACtB,IAAuB,EACvB,WAOa;IAEb,IAAM,WAAW,GAAG,oCAAiB,CACnC,UAAC,IAAY,EAAE,YAA8B;QAC3C,OAAA,YAAY;IAAZ,CAAY,CACf,CAAC;IACF,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;IAChC,IAAM,SAAS,GAAG,EAAE,CAAC;IACrB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAA,SAAS;QACnC,IAAM,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;QAChC,IAAM,QAAQ,GAAG,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QAC/C,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;YACnC,SAAS,CAAC,SAAS,CAAC,GAAG,qCAAkB,CAAC,KAAK,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;SACrE;aAAM,IAAI,QAAQ,KAAK,IAAI,EAAE;YAC5B,IAC0D,QAAS,CAAC,IAAI,EACtE;gBACA,SAAS,CACiD,QAAS,CAAC,IAAI,CACvE,GAGC,QAAS,CAAC,KAAK,CAAC;aACnB;iBAAM;gBACL,SAAS,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC;aACjC;SACF;IACH,CAAC,CAAC,CAAC;IACH,IAAI,uBAAa,CAAC,SAAS,CAAC,EAAE;QAC5B,OAAO,IAAI,CAAC;KACb;SAAM;QACL,OAAO,IAAI,2BAAiB,CAAC;YAC3B,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,MAAM,EAAE,SAAS;SAClB,CAAC,CAAC;KACJ;AACH,CAAC","sourcesContent":[null]}},"error":null,"hash":"cd3b58397c981d3dfdbecb21a0b9e478","cacheData":{"env":{}}}